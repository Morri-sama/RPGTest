@page "/units/edit/{Id}"
@inherits PageBase

<MudContainer MaxWidth="MaxWidth.Large" Style="margin-bottom: 36px">
    <MudText Typo="Typo.h4" Align="Align.Left" Color="Color.Primary">Добавление нового юнита</MudText>
    <br />

    <EditForm Model="_formContext"
              OnValidSubmit="PutToApi">
        <DataAnnotationsValidator />

        <MudCard>
            <MudCardContent>
                <MudGrid>
                    <MudItem xs="12">
                        <MudSelect T="string"
                                   Label="Класс"
                                   @bind-Value="_formContext.ClassId">
                            @foreach (var unitClass in _unitClasses)
                            {
                                <MudSelectItem Value="unitClass.Id"
                                               T="string">
                                    @unitClass.Name
                                </MudSelectItem>
                            }
                        </MudSelect>
                    </MudItem>
                    <MudItem xs="12">
                        <MudTextField @bind-Value="_formContext.Name"
                                      Label="Имя" />
                    </MudItem>
                    <MudItem xs="12">
                        <MudNumericField @bind-Value="_formContext.HP"
                                         Label="Здоровье"
                                         Step="1" />
                    </MudItem>
                    <MudItem xs="12">
                        <MudNumericField @bind-Value="_formContext.MaxHP"
                                         Label="Максимальное здоровье"
                                         Step="1" />
                    </MudItem>
                    <MudItem xs="12">
                        <MudNumericField @bind-Value="_formContext.Mana"
                                         Label="Мана"
                                         Step="1" />
                    </MudItem>
                    <MudItem xs="12">
                        <MudNumericField @bind-Value="_formContext.MaxMana"
                                         Label="Максимальная мана"
                                         Step="1" />
                    </MudItem>
                    <MudItem xs="12">
                        <MudNumericField @bind-Value="_formContext.Armor"
                                         Label="Броня"
                                         Step="1" />
                    </MudItem>
                    <MudItem xs="12">
                        <MudNumericField @bind-Value="_formContext.MagicResist"
                                         Label="Сопротивление магии"
                                         Step="1" />
                    </MudItem>
                    <MudItem xs="12">
                        <MudNumericField @bind-Value="_formContext.X"
                                         Label="X"
                                         Step="1" />
                    </MudItem>
                    <MudItem xs="12">
                        <MudNumericField @bind-Value="_formContext.Y"
                                         Label="Y"
                                         Step="1" />
                    </MudItem>
                </MudGrid>
            </MudCardContent>
            <MudCardActions Class="d-flex flex-row-reverse">
                <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Primary" Class="">Сохранить</MudButton>
                <MudButton Variant="Variant.Text" Class="" OnClick="(e => NavigateBack())">Отмена</MudButton>
            </MudCardActions>
        </MudCard>
    </EditForm>
</MudContainer>