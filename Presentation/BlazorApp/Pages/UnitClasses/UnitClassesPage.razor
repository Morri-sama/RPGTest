
@page "/unitclasses"
@inherits PageBase

<MudContainer MaxWidth="MaxWidth.ExtraLarge">

    <MudText Typo="Typo.h4" Align="Align.Left" Color="Color.Primary">
        Классы
        <MudMenu Icon="@Icons.Material.Rounded.MoreVert" Size="Size.Small" Direction="Direction.Right">
            <MudMenuItem OnClick="(e => NavigateToCreateUnitClass())">Добавить</MudMenuItem>
        </MudMenu>
    </MudText>
    <br />

    <MudTable Items="_unitClasses"
              Loading="!_isDataReady"
              Hover="true">
        <HeaderContent>
            <MudTh>

            </MudTh>

            <MudTh>
                ID
            </MudTh>

            <MudTh>
                Название
            </MudTh>

            <MudTh>
                Описание
            </MudTh>

            <MudTh>
                Базовый урон
            </MudTh>

            <MudTh>
                Условие
            </MudTh>

            <MudTh>
                Формула урона, если условия нет, либо оно верно
            </MudTh>

            <MudTh>
                Формула урона, если условие ложно
            </MudTh>

            <MudTh>
                Изменяемое свойство, если условия нет, либо оно верно
            </MudTh>

            <MudTh>
                Формула изменяемого свойства, если условия нет, либо оно верно
            </MudTh>

            <MudTh>
                Изменяемое свойство, если условие ложно
            </MudTh>

            <MudTh>
                Формула изменяемого свойства, если условие ложно
            </MudTh>
        </HeaderContent>
        <RowTemplate>
            <MudTd>
                <MudMenu Icon="@Icons.Material.Filled.MoreVert"
                         Direction="Direction.Left"
                         Size="Size.Small">
                    <MudMenuItem OnClick="(x) => { NavigateToEditUnitClass((context as UnitClassDto).Id); }">Редактировать</MudMenuItem>
                    <MudMenuItem OnClick="async(x) => { await DeleteUnitClass(context as UnitClassDto); }">Удалить</MudMenuItem>
                </MudMenu>
            </MudTd>

            <MudTd>
                <MudText>
                    @context.Id
                </MudText>
            </MudTd>

            <MudTd>
                <MudText>
                    @context.Name
                </MudText>
            </MudTd>

            <MudTd>
                <MudText>
                    @context.Description
                </MudText>
            </MudTd>

            <MudTd>
                <MudText>
                    @context.BaseDamage
                </MudText>
            </MudTd>

            <MudTd>
                <MudText>
                    @context.Condition
                </MudText>
            </MudTd>

            <MudTd>
                <MudText>
                    @context.Formula
                </MudText>
            </MudTd>

            <MudTd>
                <MudText>
                    @context.Formula2
                </MudText>
            </MudTd>

            <MudTd>
                <MudText>
                    @context.TrueConditionActionChangeableProperty
                </MudText>
            </MudTd>

            <MudTd>
                <MudText>
                    @context.PostTrueConditionAction
                </MudText>
            </MudTd>

            <MudTd>
                <MudText>
                    @context.FalseConditionActionChangeableProperty
                </MudText>
            </MudTd>

            <MudTd>
                <MudText>
                    @context.PostFalseConditionAction
                </MudText>
            </MudTd>
        </RowTemplate>
    </MudTable>
</MudContainer>