@page "/unitclasses"
@inherits PageBase

<MudContainer MaxWidth="MaxWidth.ExtraLarge">

    <MudText Typo="Typo.h4" Align="Align.Left" Color="Color.Primary">
        Классы
        <MudMenu Icon="@Icons.Material.Rounded.MoreVert" Size="Size.Small" Direction="Direction.Right">
            <MudMenuItem OnClick="(e => NavigateToCreateUnitClass())">Добавить</MudMenuItem>
        </MudMenu>
    </MudText>
    <br />

    <MudTable Items="_unitClasses"
              Loading="!_isDataReady"
              Dense="true"
              Hover="true"
              Class="w3-table">
        <HeaderContent>
            <MudTh>

            </MudTh>

            <MudTh>
                <MudText Typo="Typo.body2">
                    ID
                </MudText>
            </MudTh>

            <MudTh>
                <MudText Typo="Typo.body2">
                    Название
                </MudText>
            </MudTh>

            <MudTh>
                <MudText Typo="Typo.body2">
                    Тип атаки
                </MudText>
            </MudTh>

            <MudTh>
                <MudText Typo="Typo.body2">
                    Дистанция атаки
                </MudText>
            </MudTh>

            <MudTh>
                <MudText Typo="Typo.body2">
                    Базовый урон
                </MudText>
            </MudTh>
        </HeaderContent>
        <RowTemplate>
            <MudTd>
                <MudMenu Icon="@Icons.Material.Filled.MoreVert"
                         Direction="Direction.Left"
                         Size="Size.Small">
                    <MudMenuItem OnClick="(x) => { NavigateToEditUnitClass((context as UnitClassDto).Id); }">Редактировать</MudMenuItem>
                    <MudMenuItem OnClick="async(x) => { await DeleteUnitClass(context as UnitClassDto); }">Удалить</MudMenuItem>
                </MudMenu>
            </MudTd>

            <MudTd>
                <MudText Typo="Typo.body2">
                    @context.Id
                </MudText>
            </MudTd>

            <MudTd>
                <MudText Typo="Typo.body2">
                    @context.Name
                </MudText>
            </MudTd>

            <MudTd>
                <MudText Typo="Typo.body2">
                    @context.AttackType
                </MudText>
            </MudTd>

            <MudTd>
                <MudText Typo="Typo.body2">
                    @context.DamageType
                </MudText>
            </MudTd>

            <MudTd>
                <MudText Typo="Typo.body2">
                    @context.BaseDamage
                </MudText>
            </MudTd>
        </RowTemplate>
    </MudTable>
</MudContainer>